{"ast":null,"code":"var _jsxFileName = \"/Users/angeraphaellouanne/Documents/Developpement/scraping & open data/search_engine/src/components/topSearchbox.js\",\n    _s = $RefreshSig$();\n\nimport \"./topSearchbox.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch, faTimes, faHistory } from \"@fortawesome/free-solid-svg-icons\";\nimport { BrowserRouter as Router, Link, useHistory } from \"react-router-dom\";\nimport MobileSearch from \"./mobileSearch\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TopSearchBox = () => {\n  _s();\n\n  const options = [{\n    name: \"everything about you\",\n    value: \"all\"\n  }, {\n    name: \"about\",\n    value: \"about\"\n  }, {\n    name: \"works\",\n    value: \"works\"\n  }, {\n    name: \"writing\",\n    value: \"writing\"\n  }, {\n    name: \"social\",\n    value: \"social\"\n  }]; // Get url pathname to use as search value\n\n  const urlPathname = window.location.pathname;\n  var rx = /[^/](.*)/g;\n  var arr = rx.exec(urlPathname);\n  let val = \"\";\n\n  if (arr) {\n    val = arr[0];\n  }\n\n  const imgStyle = {\n    verticalAlign: \"middle\",\n    marginRight: 10,\n    fontSize: \"13px\",\n    color: \"#aaa\"\n  };\n  const removeBtnStyle = {\n    verticalAlign: \"middle\",\n    marginRight: 10,\n    fontSize: \"13px\",\n    color: \"#555\",\n    border: \"0\",\n    outline: \"none\",\n    background: \"transparent\",\n    float: \"right\",\n    padding: \"10px\",\n    cursor: \"pointer\"\n  };\n  const [isSearchActive, setSearchActive] = useState(\"false\");\n\n  function showOptions() {\n    let el = document.querySelector(\".search-select\");\n    el.style.display = \"block\";\n\n    if (window.innerWidth < 768) {\n      /* Display another search bar on mobile screens */\n      document.querySelector(\".mobile-search-box\").style.display = \"block\";\n      /* Hide other search options on mobile screens */\n\n      document.querySelector(\".search-select\").style.display = \"none\";\n      /* Hide body */\n\n      document.querySelector(\"body\").style.height = \"100vh\";\n      document.querySelector(\"body\").style.overflow = \"hidden\";\n      /* Focus on input */\n\n      document.querySelector(\".mobile-search-input\").focus();\n    }\n\n    document.querySelector(\".fa-search-left\").style.display = \"block\";\n  }\n\n  function hideOptions() {\n    // Delay element hiding by few milliseconds to ensure it can be clicked\n    setTimeout(function () {\n      let el = document.querySelector(\".search-select\");\n      el.style.display = \"none\";\n    }, 200);\n    document.querySelector(\".fa-search-left\").style.display = \"none\";\n  }\n\n  useEffect(() => {\n    const clearBtn = document.querySelector(\".clear-icon\");\n    let input = document.querySelector(\".search-input\").value; //console.log(input);\n\n    if (input) {\n      clearBtn.style.display = \"none\";\n    } else {\n      clearBtn.style.display = \"inline-block\";\n    }\n  }, []); /// Remove option upon button click\n\n  function removeOption(i) {\n    // i.remove();\n    i.style.display = \"none\";\n  } // Clear input field\n\n\n  function clear() {\n    let input = document.querySelector(\".search-input\");\n    input.value = \"\";\n  } // Search Website, which works by pushing search term to the url\n\n\n  const history = useHistory();\n\n  const searchWebsite = () => {\n    let path = document.querySelector(\".search-input\").value;\n\n    if (path) {\n      history.push(path);\n    }\n  }; // Only show clear button when search input is nonempty\n\n\n  const clearValue = () => {\n    let closeIcon = document.querySelector(\".clear-icon\");\n    let searchValue = document.querySelector(\".search-input\").value;\n\n    if (searchValue) {\n      closeIcon.style.display = \"inline-block\";\n      document.querySelector(\".search\").style.boxShadow = \"1px 1px 6px rgba(0,0,0,0.2)\";\n    } else {\n      closeIcon.style.display = \"none\";\n      document.querySelector(\".search\").style.boxShadow = \"none\";\n    }\n  };\n\n  useEffect(() => {\n    // Trigger search when enter key is pressed\n    let inputField = document.querySelector(\".search-input\");\n    inputField.addEventListener(\"keyup\", function (event) {\n      if (event.keyCode === 13) {\n        event.preventDefault();\n        searchWebsite();\n      }\n    });\n    let closeIcon = document.querySelector(\".clear-icon\");\n    let searchValue = document.querySelector(\".search-input\").value;\n\n    if (searchValue) {\n      closeIcon.style.display = \"inline-block\";\n      document.querySelector(\".search\").style.boxShadow = \"1px 1px 6px rgba(0,0,0,0.14)\";\n    } else {\n      closeIcon.style.display = \"none\";\n    } // eslint-disable-next-line\n\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(MobileSearch, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"topmenu-search-box search-box\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-cont\",\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          className: \"fa fa-search-left\",\n          icon: faSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-value\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \" \",\n              autoComplete: \"on\",\n              className: \"search-input\",\n              defaultValue: val,\n              onFocus: showOptions,\n              onBlur: hideOptions,\n              onChange: clearValue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-select\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-options\",\n              children: options.map(option => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"topmenu-search-option search-option\",\n                type: \"button\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    className: \"fas\",\n                    icon: faHistory,\n                    style: imgStyle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/\".concat(option.value),\n                    children: option.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"remove-btn\",\n                      style: removeBtnStyle,\n                      onClick: e => removeOption(e.currentTarget.parentElement.parentElement.parentElement),\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchbox-icons\",\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            className: \"si fa-times clear-icon\",\n            icon: faTimes,\n            title: \"Clear\",\n            onClick: clear\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            className: \"si fa-search-right\",\n            icon: faSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TopSearchBox, \"syZN9/PxhFOU1fQWi2SJUGgBAe4=\", false, function () {\n  return [useHistory];\n});\n\n_c = TopSearchBox;\nexport default TopSearchBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"TopSearchBox\");","map":{"version":3,"sources":["/Users/angeraphaellouanne/Documents/Developpement/scraping & open data/search_engine/src/components/topSearchbox.js"],"names":["React","useState","useEffect","FontAwesomeIcon","faSearch","faTimes","faHistory","BrowserRouter","Router","Link","useHistory","MobileSearch","TopSearchBox","options","name","value","urlPathname","window","location","pathname","rx","arr","exec","val","imgStyle","verticalAlign","marginRight","fontSize","color","removeBtnStyle","border","outline","background","float","padding","cursor","isSearchActive","setSearchActive","showOptions","el","document","querySelector","style","display","innerWidth","height","overflow","focus","hideOptions","setTimeout","clearBtn","input","removeOption","i","clear","history","searchWebsite","path","push","clearValue","closeIcon","searchValue","boxShadow","inputField","addEventListener","event","keyCode","preventDefault","map","option","e","currentTarget","parentElement"],"mappings":"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","sourcesContent":["import \"./topSearchbox.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faSearch,\n  faTimes,\n  faHistory\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { BrowserRouter as Router, Link, useHistory } from \"react-router-dom\";\nimport MobileSearch from \"./mobileSearch\";\n\nconst TopSearchBox = () => {\n  const options = [\n    {\n      name: \"everything about you\",\n      value: \"all\"\n    },\n    {\n      name: \"about\",\n      value: \"about\"\n    },\n    { name: \"works\", value: \"works\" },\n    { name: \"writing\", value: \"writing\" },\n    { name: \"social\", value: \"social\" }\n  ];\n\n  // Get url pathname to use as search value\n  const urlPathname = window.location.pathname;\n  var rx = /[^/](.*)/g;\n  var arr = rx.exec(urlPathname);\n  let val = \"\";\n  if (arr) {\n    val = arr[0];\n  }\n\n  const imgStyle = {\n    verticalAlign: \"middle\",\n    marginRight: 10,\n    fontSize: \"13px\",\n    color: \"#aaa\"\n  };\n\n  const removeBtnStyle = {\n    verticalAlign: \"middle\",\n    marginRight: 10,\n    fontSize: \"13px\",\n    color: \"#555\",\n    border: \"0\",\n    outline: \"none\",\n    background: \"transparent\",\n    float: \"right\",\n    padding: \"10px\",\n    cursor: \"pointer\"\n  };\n\n  const [isSearchActive, setSearchActive] = useState(\"false\");\n\n  function showOptions() {\n    let el = document.querySelector(\".search-select\");\n    el.style.display = \"block\";\n\n    if (window.innerWidth < 768) {\n      /* Display another search bar on mobile screens */\n      document.querySelector(\".mobile-search-box\").style.display = \"block\";\n      /* Hide other search options on mobile screens */\n      document.querySelector(\".search-select\").style.display = \"none\";\n      \n      /* Hide body */\n      document.querySelector(\"body\").style.height = \"100vh\";\n      document.querySelector(\"body\").style.overflow = \"hidden\";\n\n      /* Focus on input */\n      document.querySelector(\".mobile-search-input\").focus()\n    }\n    document.querySelector(\".fa-search-left\").style.display = \"block\";\n  \n  }\n\n  function hideOptions() {\n    // Delay element hiding by few milliseconds to ensure it can be clicked\n    setTimeout(function () {\n      let el = document.querySelector(\".search-select\");\n      el.style.display = \"none\";\n    }, 200);\n    document.querySelector(\".fa-search-left\").style.display = \"none\";\n  }\n\n  useEffect(() => {\n    const clearBtn = document.querySelector(\".clear-icon\");\n    let input = document.querySelector(\".search-input\").value;\n    //console.log(input);\n    if (input) {\n      clearBtn.style.display = \"none\";\n    } else {\n      clearBtn.style.display = \"inline-block\";\n    }\n  }, []);\n\n  /// Remove option upon button click\n  function removeOption(i) {\n    // i.remove();\n    i.style.display = \"none\";\n  }\n\n  // Clear input field\n  function clear() {\n    let input = document.querySelector(\".search-input\");\n    input.value = \"\";\n  }\n\n  // Search Website, which works by pushing search term to the url\n  const history = useHistory();\n  const searchWebsite = () => {\n    let path = document.querySelector(\".search-input\").value;\n    if (path) {\n      history.push(path);\n    }\n  };\n\n  // Only show clear button when search input is nonempty\n  const clearValue = () => {\n    let closeIcon = document.querySelector(\".clear-icon\");\n    let searchValue = document.querySelector(\".search-input\").value;\n    if (searchValue) {\n      closeIcon.style.display = \"inline-block\";\n      document.querySelector(\n        \".search\"\n      ).style.boxShadow = `1px 1px 6px rgba(0,0,0,0.2)`;\n    } else {\n      closeIcon.style.display = \"none\";\n      document.querySelector(\".search\").style.boxShadow = `none`;\n    }\n  };\n\n  useEffect(() => {\n    // Trigger search when enter key is pressed\n    let inputField = document.querySelector(\".search-input\");\n    inputField.addEventListener(\"keyup\", function (event) {\n      if (event.keyCode === 13) {\n        event.preventDefault();\n        searchWebsite();\n      }\n    });\n\n    let closeIcon = document.querySelector(\".clear-icon\");\n    let searchValue = document.querySelector(\".search-input\").value;\n    if (searchValue) {\n      closeIcon.style.display = \"inline-block\";\n      document.querySelector(\n        \".search\"\n      ).style.boxShadow = `1px 1px 6px rgba(0,0,0,0.14)`;\n    } else {\n      closeIcon.style.display = \"none\";\n    }\n// eslint-disable-next-line\n}, []);\n\n  return (\n    <div>\n      <div>\n        <MobileSearch />\n      </div>\n      <div className=\"topmenu-search-box search-box\">\n        <div className=\"search-cont\">\n        <FontAwesomeIcon \n        className=\"fa fa-search-left\" \n        icon={faSearch} />\n        \n          <div className=\"search\">\n            <div className=\"search-value\">\n              <input\n                placeholder=\" \"\n                autoComplete=\"on\"\n                className=\"search-input\"\n                defaultValue={val}\n                onFocus={showOptions}\n                onBlur={hideOptions}\n                onChange={clearValue}\n              />\n            </div>\n            <div className=\"search-select\">\n              <div className=\"search-options\">\n                {options.map((option) => (\n                  <div\n                    className=\"topmenu-search-option search-option\"\n                    type=\"button\"\n                  >\n                    <span>\n                      <FontAwesomeIcon\n                        className=\"fas\"\n                        icon={faHistory}\n                        style={imgStyle}\n                      />\n                      <Link to={`/${option.value}`}>{option.name}</Link>\n                      <span>\n                        <button\n                          className=\"remove-btn\"\n                          style={removeBtnStyle}\n                          onClick={(e) =>\n                            removeOption(\n                              e.currentTarget.parentElement.parentElement\n                                .parentElement\n                            )\n                          }\n                        >\n                          Remove\n                        </button>\n                      </span>\n                    </span>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n          <div className=\"searchbox-icons\">\n          <FontAwesomeIcon\n            className=\"si fa-times clear-icon\"\n            icon={faTimes}\n            title=\"Clear\"\n            onClick={clear}\n          />\n          <FontAwesomeIcon className=\"si fa-search-right\" icon={faSearch} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TopSearchBox;\n"]},"metadata":{},"sourceType":"module"}