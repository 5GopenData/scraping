{"ast":null,"code":"var _jsxFileName = \"/Users/angeraphaellouanne/Documents/Developpement/scraping & open data/search_engine/src/components/searchbox.js\",\n    _s = $RefreshSig$();\n\nimport \"./searchbox.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch, faTimes, faHistory } from \"@fortawesome/free-solid-svg-icons\";\nimport { BrowserRouter as Router, Link, useHistory } from \"react-router-dom\";\nimport MobileSearch from \"./mobileSearch\";\nimport { Content } from \"../data/content\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchBox = props => {\n  _s();\n\n  // Get url pathname to use as search value\n  const urlPathname = window.location.pathname;\n  var rx = /[^/](.*)/g;\n  var arr = rx.exec(urlPathname);\n  let val = \"\";\n\n  if (arr) {\n    val = arr[0];\n  }\n\n  const imgStyle = {\n    verticalAlign: \"middle\",\n    marginRight: 10,\n    fontSize: \"13px\",\n    color: \"#aaa\"\n  };\n  const removeBtnStyle = {\n    verticalAlign: \"middle\",\n    marginRight: 10,\n    fontSize: \"13px\",\n    color: \"#555\",\n    border: \"0\",\n    outline: \"none\",\n    background: \"transparent\",\n    float: \"right\",\n    padding: \"10px\",\n    cursor: \"pointer\"\n  };\n  const [isSearchActive, setSearchActive] = useState(\"false\");\n\n  function showOptions() {\n    let el = document.querySelector(\".search-select\");\n    el.style.display = \"block\";\n\n    if (window.innerWidth < 768) {\n      /* Display another search bar on mobile screens */\n      document.querySelector(\".mobile-search-box\").style.display = \"block\";\n      /* Hide other search options on mobile screens */\n\n      document.querySelector(\".search-select\").style.display = \"none\";\n      /* Hide body when mobile search area is active */\n\n      document.querySelector(\"body\").style.height = \"100vh\";\n      document.querySelector(\"body\").style.overflow = \"hidden\";\n      /* Focus on search input so that user can begin typing \n      immediately without having to click on it first*/\n\n      document.querySelector(\".mobile-search-input\").focus();\n    }\n  }\n\n  function hideOptions() {\n    // Delay element hiding by few milliseconds to ensure it can be clicked\n    setTimeout(function () {\n      let el = document.querySelector(\".search-select\");\n      el.style.display = \"none\";\n    }, 200);\n  }\n\n  useEffect(() => {\n    const clearBtn = document.querySelector(\".clear-icon\");\n    let input = document.querySelector(\".search-input\").value; // Only show the clear button when the input field is nonempty\n\n    if (input) {\n      clearBtn.style.display = \"none\";\n    } else {\n      clearBtn.style.display = \"inline-block\";\n    }\n  }, []); /// Remove option upon button click\n\n  function removeOption(i) {\n    // i.remove();\n    i.style.display = \"none\";\n  } // Clear input field\n\n\n  function clear() {\n    let input = document.querySelector(\".search-input\");\n    input.value = \"\";\n  } // Show the clear button when the search input field is nonempty\n\n\n  const clearValue = () => {\n    let closeIcon = document.querySelector(\".clear-icon\");\n    let searchValue = document.querySelector(\".search-input\").value;\n\n    if (searchValue) {\n      closeIcon.style.display = \"inline-block\"; // When the search input is not empty, give it a subtle box shadow\n\n      document.querySelector(\".search\").style.boxShadow = \"1px 1px 6px rgba(0,0,0,0.2)\";\n    } else {\n      closeIcon.style.display = \"none\";\n      document.querySelector(\".search\").style.boxShadow = \"none\";\n    }\n  };\n\n  useEffect(() => {\n    // Trigger search when enter key is pressed\n    let inputField = document.querySelector(\".search-input\");\n    inputField.addEventListener(\"keyup\", function (event) {\n      if (event.keyCode === 13) {\n        event.preventDefault();\n        searchWebsite();\n      }\n    }); // As soon as the page loads, show the clear button if the search input field is nonempty\n\n    let closeIcon = document.querySelector(\".clear-icon\");\n    let searchValue = document.querySelector(\".search-input\").value;\n\n    if (searchValue) {\n      closeIcon.style.display = \"inline-block\";\n      document.querySelector(\".search\").style.boxShadow = \"1px 1px 6px rgba(0,0,0,0.2)\";\n    } else {\n      closeIcon.style.display = \"none\";\n    } // eslint-disable-next-line\n\n  }, []); // \"Search\" Website, which works by pushing the search term to the url and redirecting to it\n\n  const history = useHistory();\n\n  const searchWebsite = () => {\n    let path = document.querySelector(\".search-input\").value;\n\n    if (path) {\n      history.push(path);\n    }\n  }; // I'm Feeling Lucky search\n\n\n  function feelingLucky() {\n    let path = document.querySelector(\".search-input\").value; // Route to random page if search input is empty\n\n    if (!path) {\n      history.push(\"/\".concat(props.options[Math.floor(Math.random() * props.options.length)].value));\n      return;\n    }\n    /* Get all elements matching the search term */\n\n\n    const item = Content.filter(item => item.category === path); // Get the link of the first match\n    // Redirect to first match, if it exists\n\n    if (item[0]) {\n      const url = item[0].link;\n      window.location.href = url;\n    } else if (path) {\n      history.push(path);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(MobileSearch, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-box\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-cont\",\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          className: \"fa fa-search\",\n          icon: faSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-value\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \" \",\n              autoComplete: \"on\",\n              className: \"search-input\",\n              defaultValue: val,\n              onFocus: showOptions,\n              onBlur: hideOptions,\n              onChange: clearValue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-options\",\n              children: props.options.map(option => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"search-option\",\n                type: \"button\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    className: \"fas\",\n                    icon: faHistory,\n                    style: imgStyle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/\".concat(option.value),\n                    children: option.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"remove-btn\",\n                      style: removeBtnStyle,\n                      onClick: e => removeOption(e.currentTarget.parentElement.parentElement.parentElement),\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), {\n              /* <div\n                              </div> */\n            }]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          className: \"fa fa-times clear-icon\",\n          icon: faTimes,\n          title: \"Clear\",\n          onClick: clear\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchBox, \"mm/2tG0dlOZAm/SB0z+XxQeFQw0=\", false, function () {\n  return [useHistory];\n});\n\n_c = SearchBox;\nexport default SearchBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBox\");","map":{"version":3,"sources":["/Users/angeraphaellouanne/Documents/Developpement/scraping & open data/search_engine/src/components/searchbox.js"],"names":["React","useState","useEffect","FontAwesomeIcon","faSearch","faTimes","faHistory","BrowserRouter","Router","Link","useHistory","MobileSearch","Content","SearchBox","props","urlPathname","window","location","pathname","rx","arr","exec","val","imgStyle","verticalAlign","marginRight","fontSize","color","removeBtnStyle","border","outline","background","float","padding","cursor","isSearchActive","setSearchActive","showOptions","el","document","querySelector","style","display","innerWidth","height","overflow","focus","hideOptions","setTimeout","clearBtn","input","value","removeOption","i","clear","clearValue","closeIcon","searchValue","boxShadow","inputField","addEventListener","event","keyCode","preventDefault","searchWebsite","history","path","push","feelingLucky","options","Math","floor","random","length","item","filter","category","url","link","href","map","option","name","e","currentTarget","parentElement"],"mappings":";;;AAAA,OAAO,iBAAP;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SACEC,QADF,EAEEC,OAFF,EAGEC,SAHF,QAIO,mCAJP;AAKA,SACEC,aAAa,IAAIC,MADnB,EAEEC,IAFF,EAGEC,UAHF,QAIO,kBAJP;AAKA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,OAAT,QAAwB,iBAAxB;;;AAEA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAAA;;AAE3B;AACA,QAAMC,WAAW,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAApC;AACA,MAAIC,EAAE,GAAG,WAAT;AACA,MAAIC,GAAG,GAAGD,EAAE,CAACE,IAAH,CAAQN,WAAR,CAAV;AACA,MAAIO,GAAG,GAAG,EAAV;;AACA,MAAIF,GAAJ,EAAS;AACPE,IAAAA,GAAG,GAAGF,GAAG,CAAC,CAAD,CAAT;AACD;;AAED,QAAMG,QAAQ,GAAG;AACfC,IAAAA,aAAa,EAAE,QADA;AAEfC,IAAAA,WAAW,EAAE,EAFE;AAGfC,IAAAA,QAAQ,EAAE,MAHK;AAIfC,IAAAA,KAAK,EAAE;AAJQ,GAAjB;AAOA,QAAMC,cAAc,GAAG;AACrBJ,IAAAA,aAAa,EAAE,QADM;AAErBC,IAAAA,WAAW,EAAE,EAFQ;AAGrBC,IAAAA,QAAQ,EAAE,MAHW;AAIrBC,IAAAA,KAAK,EAAE,MAJc;AAKrBE,IAAAA,MAAM,EAAE,GALa;AAMrBC,IAAAA,OAAO,EAAE,MANY;AAOrBC,IAAAA,UAAU,EAAE,aAPS;AAQrBC,IAAAA,KAAK,EAAE,OARc;AASrBC,IAAAA,OAAO,EAAE,MATY;AAUrBC,IAAAA,MAAM,EAAE;AAVa,GAAvB;AAaA,QAAM,CAACC,cAAD,EAAiBC,eAAjB,IAAoCnC,QAAQ,CAAC,OAAD,CAAlD;;AAEA,WAASoC,WAAT,GAAuB;AACrB,QAAIC,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAT;AACAF,IAAAA,EAAE,CAACG,KAAH,CAASC,OAAT,GAAmB,OAAnB;;AAEA,QAAI1B,MAAM,CAAC2B,UAAP,GAAoB,GAAxB,EAA6B;AAC3B;AACAJ,MAAAA,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,EAA6CC,KAA7C,CAAmDC,OAAnD,GAA6D,OAA7D;AACA;;AACAH,MAAAA,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCC,KAAzC,CAA+CC,OAA/C,GAAyD,MAAzD;AAEA;;AACAH,MAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,KAA/B,CAAqCG,MAArC,GAA8C,OAA9C;AACAL,MAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,KAA/B,CAAqCI,QAArC,GAAgD,QAAhD;AAEA;AACN;;AACMN,MAAAA,QAAQ,CAACC,aAAT,CAAuB,sBAAvB,EAA+CM,KAA/C;AACD;AACF;;AAED,WAASC,WAAT,GAAuB;AACrB;AACAC,IAAAA,UAAU,CAAC,YAAY;AACrB,UAAIV,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAT;AACAF,MAAAA,EAAE,CAACG,KAAH,CAASC,OAAT,GAAmB,MAAnB;AACD,KAHS,EAGP,GAHO,CAAV;AAID;;AAEDxC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM+C,QAAQ,GAAGV,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAjB;AACA,QAAIU,KAAK,GAAGX,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCW,KAApD,CAFc,CAGd;;AACA,QAAID,KAAJ,EAAW;AACTD,MAAAA,QAAQ,CAACR,KAAT,CAAeC,OAAf,GAAyB,MAAzB;AACD,KAFD,MAEO;AACLO,MAAAA,QAAQ,CAACR,KAAT,CAAeC,OAAf,GAAyB,cAAzB;AACD;AACF,GATQ,EASN,EATM,CAAT,CA7D2B,CAwE3B;;AACA,WAASU,YAAT,CAAsBC,CAAtB,EAAyB;AACvB;AACAA,IAAAA,CAAC,CAACZ,KAAF,CAAQC,OAAR,GAAkB,MAAlB;AACD,GA5E0B,CA8E3B;;;AACA,WAASY,KAAT,GAAiB;AACf,QAAIJ,KAAK,GAAGX,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAZ;AACAU,IAAAA,KAAK,CAACC,KAAN,GAAc,EAAd;AACD,GAlF0B,CAoF3B;;;AACA,QAAMI,UAAU,GAAG,MAAM;AACvB,QAAIC,SAAS,GAAGjB,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAhB;AACA,QAAIiB,WAAW,GAAGlB,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCW,KAA1D;;AACA,QAAIM,WAAJ,EAAiB;AACfD,MAAAA,SAAS,CAACf,KAAV,CAAgBC,OAAhB,GAA0B,cAA1B,CADe,CAEf;;AACAH,MAAAA,QAAQ,CAACC,aAAT,CACE,SADF,EAEEC,KAFF,CAEQiB,SAFR;AAGD,KAND,MAMO;AACLF,MAAAA,SAAS,CAACf,KAAV,CAAgBC,OAAhB,GAA0B,MAA1B;AACAH,MAAAA,QAAQ,CAACC,aAAT,CAAuB,SAAvB,EAAkCC,KAAlC,CAAwCiB,SAAxC;AACD;AACF,GAbD;;AAeAxD,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,QAAIyD,UAAU,GAAGpB,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAjB;AACAmB,IAAAA,UAAU,CAACC,gBAAX,CAA4B,OAA5B,EAAqC,UAAUC,KAAV,EAAiB;AACpD,UAAIA,KAAK,CAACC,OAAN,KAAkB,EAAtB,EAA0B;AACxBD,QAAAA,KAAK,CAACE,cAAN;AACAC,QAAAA,aAAa;AACd;AACF,KALD,EAHc,CAUd;;AACA,QAAIR,SAAS,GAAGjB,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAhB;AACA,QAAIiB,WAAW,GAAGlB,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCW,KAA1D;;AACA,QAAIM,WAAJ,EAAiB;AACfD,MAAAA,SAAS,CAACf,KAAV,CAAgBC,OAAhB,GAA0B,cAA1B;AACAH,MAAAA,QAAQ,CAACC,aAAT,CACE,SADF,EAEEC,KAFF,CAEQiB,SAFR;AAGD,KALD,MAKO;AACLF,MAAAA,SAAS,CAACf,KAAV,CAAgBC,OAAhB,GAA0B,MAA1B;AACD,KApBa,CAqBZ;;AACL,GAtBU,EAsBR,EAtBQ,CAAT,CApG2B,CA4H3B;;AACA,QAAMuB,OAAO,GAAGvD,UAAU,EAA1B;;AACA,QAAMsD,aAAa,GAAG,MAAM;AAC1B,QAAIE,IAAI,GAAG3B,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCW,KAAnD;;AACA,QAAIe,IAAJ,EAAU;AACRD,MAAAA,OAAO,CAACE,IAAR,CAAaD,IAAb;AACD;AACF,GALD,CA9H2B,CAqI3B;;;AACA,WAASE,YAAT,GAAwB;AACtB,QAAIF,IAAI,GAAG3B,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCW,KAAnD,CADsB,CAGtB;;AACA,QAAI,CAACe,IAAL,EAAW;AACTD,MAAAA,OAAO,CAACE,IAAR,YAAiBrD,KAAK,CAACuD,OAAN,CAAcC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB1D,KAAK,CAACuD,OAAN,CAAcI,MAAzC,CAAd,EAAgEtB,KAAjF;AACA;AACD;AAED;;;AACA,UAAMuB,IAAI,GAAG9D,OAAO,CAAC+D,MAAR,CAAgBD,IAAD,IAAUA,IAAI,CAACE,QAAL,KAAkBV,IAA3C,CAAb,CAVsB,CAWtB;AACA;;AACA,QAAIQ,IAAI,CAAC,CAAD,CAAR,EAAa;AACX,YAAMG,GAAG,GAAGH,IAAI,CAAC,CAAD,CAAJ,CAAQI,IAApB;AACA9D,MAAAA,MAAM,CAACC,QAAP,CAAgB8D,IAAhB,GAAuBF,GAAvB;AACD,KAHD,MAGO,IAAIX,IAAJ,EAAU;AACfD,MAAAA,OAAO,CAACE,IAAR,CAAaD,IAAb;AACD;AACF;;AAED,sBACE;AAAA,4BACE;AAAA,6BACE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAIE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,gCACE,QAAC,eAAD;AAAiB,UAAA,SAAS,EAAC,cAA3B;AAA0C,UAAA,IAAI,EAAE9D;AAAhD;AAAA;AAAA;AAAA;AAAA,gBADF,eAGE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,cAAf;AAAA,mCACE;AACE,cAAA,WAAW,EAAC,GADd;AAEE,cAAA,YAAY,EAAC,IAFf;AAGE,cAAA,SAAS,EAAC,cAHZ;AAIE,cAAA,YAAY,EAAEkB,GAJhB;AAKE,cAAA,OAAO,EAAEe,WALX;AAME,cAAA,MAAM,EAAEU,WANV;AAOE,cAAA,QAAQ,EAAEQ;AAPZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAYE;AAAK,YAAA,SAAS,EAAC,eAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,wBACGzC,KAAK,CAACuD,OAAN,CAAcW,GAAd,CAAmBC,MAAD,iBACjB;AAAK,gBAAA,SAAS,EAAC,eAAf;AAA+B,gBAAA,IAAI,EAAC,QAApC;AAAA,uCACE;AAAA,0CACE,QAAC,eAAD;AACE,oBAAA,SAAS,EAAC,KADZ;AAEE,oBAAA,IAAI,EAAE3E,SAFR;AAGE,oBAAA,KAAK,EAAEiB;AAHT;AAAA;AAAA;AAAA;AAAA,0BADF,eAME,QAAC,IAAD;AAAM,oBAAA,EAAE,aAAM0D,MAAM,CAAC9B,KAAb,CAAR;AAAA,8BAA+B8B,MAAM,CAACC;AAAtC;AAAA;AAAA;AAAA;AAAA,0BANF,eAOE;AAAA,2CACE;AACE,sBAAA,SAAS,EAAC,YADZ;AAEE,sBAAA,KAAK,EAAEtD,cAFT;AAGE,sBAAA,OAAO,EAAGuD,CAAD,IACP/B,YAAY,CACV+B,CAAC,CAACC,aAAF,CAAgBC,aAAhB,CAA8BA,aAA9B,CACGA,aAFO,CAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADD;AADH;AAAA;AAAA;AAAA;AAAA,oBADF,EA8BI;AAAC;AACjB;AADgB,aA9BJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAmDE,QAAC,eAAD;AACE,UAAA,SAAS,EAAC,wBADZ;AAEE,UAAA,IAAI,EAAEhF,OAFR;AAGE,UAAA,KAAK,EAAC,OAHR;AAIE,UAAA,OAAO,EAAEiD;AAJX;AAAA;AAAA;AAAA;AAAA,gBAnDF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmED,CA9ND;;GAAMzC,S;UA6HYH,U;;;KA7HZG,S;AAgON,eAAeA,SAAf","sourcesContent":["import \"./searchbox.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faSearch,\n  faTimes,\n  faHistory\n} from \"@fortawesome/free-solid-svg-icons\";\nimport {\n  BrowserRouter as Router,\n  Link,\n  useHistory\n} from \"react-router-dom\";\nimport MobileSearch from \"./mobileSearch\";\nimport { Content } from \"../data/content\";\n\nconst SearchBox = (props) => {\n\n  // Get url pathname to use as search value\n  const urlPathname = window.location.pathname;\n  var rx = /[^/](.*)/g;\n  var arr = rx.exec(urlPathname);\n  let val = \"\";\n  if (arr) {\n    val = arr[0];\n  }\n\n  const imgStyle = {\n    verticalAlign: \"middle\",\n    marginRight: 10,\n    fontSize: \"13px\",\n    color: \"#aaa\"\n  };\n\n  const removeBtnStyle = {\n    verticalAlign: \"middle\",\n    marginRight: 10,\n    fontSize: \"13px\",\n    color: \"#555\",\n    border: \"0\",\n    outline: \"none\",\n    background: \"transparent\",\n    float: \"right\",\n    padding: \"10px\",\n    cursor: \"pointer\"\n  };\n\n  const [isSearchActive, setSearchActive] = useState(\"false\");\n\n  function showOptions() {\n    let el = document.querySelector(\".search-select\");\n    el.style.display = \"block\";\n\n    if (window.innerWidth < 768) {\n      /* Display another search bar on mobile screens */\n      document.querySelector(\".mobile-search-box\").style.display = \"block\";\n      /* Hide other search options on mobile screens */\n      document.querySelector(\".search-select\").style.display = \"none\";\n\n      /* Hide body when mobile search area is active */\n      document.querySelector(\"body\").style.height = \"100vh\";\n      document.querySelector(\"body\").style.overflow = \"hidden\";\n\n      /* Focus on search input so that user can begin typing \n      immediately without having to click on it first*/\n      document.querySelector(\".mobile-search-input\").focus()\n    }\n  }\n\n  function hideOptions() {\n    // Delay element hiding by few milliseconds to ensure it can be clicked\n    setTimeout(function () {\n      let el = document.querySelector(\".search-select\");\n      el.style.display = \"none\";\n    }, 200);\n  }\n\n  useEffect(() => {\n    const clearBtn = document.querySelector(\".clear-icon\");\n    let input = document.querySelector(\".search-input\").value;\n    // Only show the clear button when the input field is nonempty\n    if (input) {\n      clearBtn.style.display = \"none\";\n    } else {\n      clearBtn.style.display = \"inline-block\";\n    }\n  }, []);\n\n  /// Remove option upon button click\n  function removeOption(i) {\n    // i.remove();\n    i.style.display = \"none\";\n  }\n\n  // Clear input field\n  function clear() {\n    let input = document.querySelector(\".search-input\");\n    input.value = \"\";\n  }\n\n  // Show the clear button when the search input field is nonempty\n  const clearValue = () => {\n    let closeIcon = document.querySelector(\".clear-icon\");\n    let searchValue = document.querySelector(\".search-input\").value;\n    if (searchValue) {\n      closeIcon.style.display = \"inline-block\";\n      // When the search input is not empty, give it a subtle box shadow\n      document.querySelector(\n        \".search\"\n      ).style.boxShadow = `1px 1px 6px rgba(0,0,0,0.2)`;\n    } else {\n      closeIcon.style.display = \"none\";\n      document.querySelector(\".search\").style.boxShadow = `none`;\n    }\n  };\n\n  useEffect(() => {\n    // Trigger search when enter key is pressed\n    let inputField = document.querySelector(\".search-input\");\n    inputField.addEventListener(\"keyup\", function (event) {\n      if (event.keyCode === 13) {\n        event.preventDefault();\n        searchWebsite();\n      }\n    });\n\n    // As soon as the page loads, show the clear button if the search input field is nonempty\n    let closeIcon = document.querySelector(\".clear-icon\");\n    let searchValue = document.querySelector(\".search-input\").value;\n    if (searchValue) {\n      closeIcon.style.display = \"inline-block\";\n      document.querySelector(\n        \".search\"\n      ).style.boxShadow = `1px 1px 6px rgba(0,0,0,0.2)`;\n    } else {\n      closeIcon.style.display = \"none\";\n    }\n      // eslint-disable-next-line\n}, []);\n\n  // \"Search\" Website, which works by pushing the search term to the url and redirecting to it\n  const history = useHistory();\n  const searchWebsite = () => {\n    let path = document.querySelector(\".search-input\").value;\n    if (path) {\n      history.push(path);\n    }\n  };\n\n  // I'm Feeling Lucky search\n  function feelingLucky() {\n    let path = document.querySelector(\".search-input\").value;\n\n    // Route to random page if search input is empty\n    if (!path) {\n      history.push(`/${props.options[Math.floor(Math.random() * props.options.length)].value}`);\n      return;\n    }\n\n    /* Get all elements matching the search term */\n    const item = Content.filter((item) => item.category === path);\n    // Get the link of the first match\n    // Redirect to first match, if it exists\n    if (item[0]) {\n      const url = item[0].link;\n      window.location.href = url;\n    } else if (path) {\n      history.push(path);\n    }\n  }\n\n  return (\n    <div>\n      <div>\n        <MobileSearch />\n      </div>\n      <div className=\"search-box\">\n        <div className=\"search-cont\">\n          <FontAwesomeIcon className=\"fa fa-search\" icon={faSearch} />\n\n          <div className=\"search\">\n            <div className=\"search-value\">\n              <input\n                placeholder=\" \"\n                autoComplete=\"on\"\n                className=\"search-input\"\n                defaultValue={val}\n                onFocus={showOptions}\n                onBlur={hideOptions}\n                onChange={clearValue}\n              />\n            </div>\n            <div className=\"search-select\">\n              <div className=\"search-options\">\n                {props.options.map((option) => (\n                  <div className=\"search-option\" type=\"button\">\n                    <span>\n                      <FontAwesomeIcon\n                        className=\"fas\"\n                        icon={faHistory}\n                        style={imgStyle}\n                      />\n                      <Link to={`/${option.value}`}>{option.name}</Link>\n                      <span>\n                        <button\n                          className=\"remove-btn\"\n                          style={removeBtnStyle}\n                          onClick={(e) =>\n                            removeOption(\n                              e.currentTarget.parentElement.parentElement\n                                .parentElement\n                            )\n                          }\n                        >\n                          Remove\n                        </button>\n                      </span>\n                    </span>\n                  </div>\n                ))}\n              </div>\n              {\n                {/* <div\n                \n                </div> */}\n              }\n            </div>\n          </div>\n          <FontAwesomeIcon\n            className=\"fa fa-times clear-icon\"\n            icon={faTimes}\n            title=\"Clear\"\n            onClick={clear}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SearchBox;\n"]},"metadata":{},"sourceType":"module"}